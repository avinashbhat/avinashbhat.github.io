---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title?: string;
  pageClass?: string;
  date?: string;
  frontmatter?: {
    title: string;
    pageClass?: string;
    date?: string;
  };
}

const { frontmatter } = Astro.props;
const title = frontmatter?.title || Astro.props.title;
const pageClass = frontmatter?.pageClass || Astro.props.pageClass;
const date = frontmatter?.date || Astro.props.date;
---

<BaseLayout title={title}>
  <section class={`post ${pageClass || ''}`}>
    <header class="page-header">
      <div>
        <h2 class="page-title">{title}</h2>
        {pageClass === 'note-content-page' && date && (
          <p class="page-date">{date}</p>
        )}
      </div>

      <div class="page-actions">
        {pageClass === 'note-content-page' && (
          <a href="/about#notes" class="btn btn-back">‚Üê Back to Home</a>
        )}
        <button id="theme-toggle" class="btn btn-theme">
          <i class="fa-solid fa-moon"></i>
        </button>
      </div>
    </header>

    <slot />
  </section>
</BaseLayout>
